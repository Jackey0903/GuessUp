<view class="container">
  <view class="header">
    <text class="title">1v1 对战大厅</text>
    <text class="subtitle">REAL-TIME MULTIPLAYER</text>
  </view>

  <view class="room-card glass">
    <view class="status-indicator {{isHost ? 'host' : 'guest'}}">
      <view class="dot"></view>
      <text>{{statusText}}</text>
    </view>
    
    <view class="room-id" wx:if="{{roomId}}">
      <text class="label">房间号</text>
      <text class="value">{{roomId}}</text>
    </view>
    
    <!-- Player avatars placeholder -->
    <view class="players-container">
      <view class="player-slot host-slot">
        <view class="avatar">我</view>
        <text class="name">房主</text>
      </view>
      
      <view class="vs">VS</view>
      
      <view class="player-slot guest-slot {{guestJoined ? 'joined' : 'waiting'}}">
        <view class="avatar">{{guestJoined ? '敌' : '?'}}</view>
        <text class="name">{{guestJoined ? '挑战者' : '等待加入...'}}</text>
      </view>
    </view>
  </view>

  <view class="actions">
    <!-- Only host can invite -->
    <button 
      wx:if="{{isHost && !guestJoined && roomId}}" 
      class="primary action-btn share-btn" 
      open-type="share"
    >
      邀请微信好友
    </button>
    
    <button 
      wx:if="{{isHost && !guestJoined && roomId}}" 
      class="ghost action-btn" 
      bindtap="devSimulateJoin" 
      style="border: 1px dashed rgba(255,255,255,0.3); margin-top: 20rpx; color: var(--muted);"
    >
      [测试] 模拟对手加入
    </button>
    
    <button 
      class="ghost action-btn" 
      bindtap="leaveRoom"
    >
      返回首页
    </button>
  </view>
</view>
